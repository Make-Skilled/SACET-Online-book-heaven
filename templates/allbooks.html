<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- 
    - primary meta tags
  -->
  <title>All Books - Book Heaven</title>
  <meta name="title" content="All Books - Book Heaven">
  <meta name="description" content="View all books in the Book Heaven collection">

  <!-- 
    - favicon
  -->
  <link rel="shortcut icon" href="./favicon.svg" type="image/svg+xml">

  <!-- 
    - custom css link
  -->
  <link rel="stylesheet" href={{ url_for('static', filename='css/style.css' )}}>

  <!-- 
    - google font link
  -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;600&family=Work+Sans:wght@400;500;700&display=swap"
    rel="stylesheet">

  <!-- 
    - preload images
  -->
  <link rel="preload" as="image" href={{ url_for("static", filename="images/hero-banner.png" )}}>
  <link rel="preload" as="image" href={{ url_for("static", filename="images/hero-bg.jpg" )}}>

</head>

<body id="top">

  <!-- 
    - #HEADER
  -->

  <header class="header" data-header>
    <div class="header-top">
      <div class="container">

        <a href="/admindashboard" class="logo">
          <img src={{ url_for( 'static', filename="images/hero-banner.png" ) }} width="48" height="28" alt="booken home">
        </a>

        <div class="input-wrapper">
        </div>

      </div>
    </div>

    <div class="header-bottom" data-navbar>
      <div class="container">

        <nav class="navbar">

          <button class="nav-close-btn" data-nav-toggler aria-label="close menu" title="Close Menu">
            <ion-icon name="close-outline" aria-hidden="true"></ion-icon>
          </button>

          <div class="navbar-top">
            <input type="search" name="search" placeholder="Search our store" class="input-field">

            <button class="search-btn" aria-label="Search">
              <ion-icon name="search-outline" aria-hidden="true"></ion-icon>
            </button>
          </div>

          <ul class="navbar-list">
            <li>
              <a href="/admindashboard" class="navbar-link">Home</a>
            </li>

            <li>
              <a href="/book" class="navbar-link">Add a Book</a>
            </li>

            <li>
              <a href="/allbooks" class="navbar-link">All Books</a>
            </li>

            <li>
              <a href="/logout" class="navbar-link">Logout</a>
            </li>
          </ul>

        </nav>

        <a href="tel:+0123456789" class="header-contact-link">
          <ion-icon name="headset-outline" aria-hidden="true"></ion-icon>
          <span class="span">(+91)-9876543210</span>
        </a>

      </div>
    </div>

    <div class="overlay" data-overlay data-nav-toggler></div>
  </header>

  <main>
    <article>
      <section class="section all-books" aria-label="all books">
        <div class="container">
          <div class="section-header">
            <h2 class="h2 section-title">All Books</h2>
          </div>
          
          <div class="books-grid" id="booksGrid">
            {% for book in books %}
            <div class="book-card" data-genre="{{ book.genre }}">
              <div class="book-image">
                <img src="{{ url_for('static', filename='uploads/' + book.image) }}" 
                     alt="{{ book.title }}" 
                     class="img-cover">
                <div class="book-overlay">
                  <div class="book-actions">
                    <a href="/editbook/{{ book._id }}" class="btn btn-primary">
                      <ion-icon name="create-outline"></ion-icon>
                      Edit
                    </a>
                    <a href="/deletebook/{{ book._id }}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this book?')">
                      <ion-icon name="trash-outline"></ion-icon>
                      Delete
                    </a>
                  </div>
                </div>
              </div>
              
              <div class="book-content">
                <h3 class="h3 book-title"><span class="book-label">Title:</span>{{ book.title }}</h3>
                <p class="book-author"><span class="book-label">Author:</span>{{ book.author }}</p>
                <p class="book-genre"><span class="book-label">Genre:</span>{{ book.genre }}</p>
                <p class="book-price"><span class="book-label">Price:</span>â‚¹{{ book.price }}</p>
                <p class="book-stock"><span class="book-label">Stock:</span>{{ book.stock }}</p>
                  <a href="{{ url_for('static', filename='uploads/' + book.pdf) }}" class="btn btn-success" download>
                    <ion-icon name="download-outline"></ion-icon>
                    Download PDF
                  </a>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </section>
    </article>
  </main>

  <!-- 
    - #BACK TO TOP
  -->

  <a href="#top" class="back-top-btn" aria-label="back to top" data-back-top-btn>
    <ion-icon name="chevron-up" aria-hidden="true"></ion-icon>
  </a>

  <!-- 
    - custom js link
  -->
  <script src={{ url_for('static', filename='js/script.js' )}} defer></script>

  <!-- 
    - ionicon link
  -->
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

  <style>
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }

    .books-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 2rem;
      padding: 2rem 0;
    }

    .book-card {
      background: rgba(0, 0, 0, 0.8);
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
      position: relative;
    }

    .book-card:hover {
      transform: translateY(-5px);
    }

    .book-image {
      height: 300px;
      overflow: hidden;
      position: relative;
    }

    .book-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
      background-color: #f5f5f5;
    }

    .book-image img[src*="placeholder"] {
      object-fit: contain;
      padding: 1rem;
    }

    .book-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .book-card:hover .book-overlay {
      opacity: 1;
    }

    .book-card:hover .book-image img {
      transform: scale(1.05);
    }

    .book-content {
      padding: 1.5rem;
      background: rgba(0, 0, 0, 0.8);
    }

    .book-title {
      font-size: 1.8rem;
      margin-bottom: 1rem;
      color: white;
    }

    .book-author {
      font-size: 1.4rem;
      color: white;
      margin-bottom: 1rem;
    }

    .book-genre {
      font-size: 1.4rem;
      color: white;
      font-weight: 500;
      margin-bottom: 1rem;
    }

    .book-price {
      font-size: 1.6rem;
      color: #4CAF50;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    .book-stock {
      font-size: 1.4rem;
      color: white;
      margin-bottom: 1rem;
    }

    .book-label {
      font-weight: 600;
      color: #00bcd4;
      display: inline-block;
      margin-right: 0.5rem;
    }

    .book-actions {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .btn-danger {
      background-color: #dc3545;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      text-decoration: none;
      transition: background-color 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .btn-danger:hover {
      background-color: #c82333;
    }

    .btn-primary {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .btn-success {
      background-color: #28a745;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      text-decoration: none;
      transition: background-color 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .btn-success:hover {
      background-color: #218838;
    }

    @media (max-width: 768px) {
      .section-header {
        flex-direction: column;
        gap: 1rem;
      }

      .books-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 1rem;
      }

      .book-image {
        height: 250px;
      }
    }
  </style>

</body>

</html> 